<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Welcome</title>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Generate a unique userId for each tab if it doesn't exist
            if (!sessionStorage.getItem('userId')) {
                sessionStorage.setItem('userId', 'user-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9));
            }
            document.getElementById('userId').value = sessionStorage.getItem('userId');
        });
    </script>
</head>
<body>
<form action="/setName" method="post">
    <label for="name">Enter your name:</label>
    <input type="text" id="name" name="name" required>
    <input type="hidden" id="userId" name="userId" value="">
    <button type="submit">Join Chat</button>
</form>
</body>
</html>
